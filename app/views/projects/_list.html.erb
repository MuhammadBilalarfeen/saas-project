<%= form_for [@tenant || Tenant.current_tenant, @project], html: { class: "form-horizontal project" } do |f| %>
  <div class="page-header mb-4">
    <h1>Projects</h1>
  </div>

  <%= f.hidden_field :tenant_id, value: @tenant.id if @tenant %>

  <% if @projects.present? %>
    <div class="table-responsive mt-4">
      <table class="table table-striped table-hover">
        <thead class="table-light">
          <tr>
            <th>Title</th>
            <th>Details</th>
            <th>Expected Completion</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @projects.each do |project| %>
            <tr>
              <td><%= link_to project.title, tenant_project_path(@tenant, project), class: 'text-decoration-none' %></td>
              <td><%= project.details %></td>
              <td><%= project.expected_completion_date %></td>
              <td class="d-flex gap-1">
                <%= link_to 'Edit', edit_tenant_project_path(@tenant, project), class: 'btn btn-sm btn-info' %>
                <%= link_to 'Edit Users', users_tenant_project_path(@tenant, project), class: 'btn btn-sm btn-secondary' %>
                <%= link_to 'Delete', tenant_project_path(@tenant, project), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-danger' %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <p class="lead mt-3">You don't have any projects</p>
  <% end %>
<% end %>